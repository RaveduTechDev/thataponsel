import{$ as e}from"./jquery-Da9eaIsk.js";import"./_commonjsHelpers-CqkleIqs.js";function s(a){return a=parseFloat(a)||0,"Rp "+a.toLocaleString("id-ID",{minimumFractionDigits:0})}function i(a){if(e(a).length){let l=e(a).val().replace(/[^0-9]/g,"")||"0";e(a).val(s(l)),e(a).on("input",function(){let t=e(this).val().replace(/[^0-9]/g,"")||"0";e(this).val(s(t))})}}i("#harga-jual");i("#biaya");i("#dp-server");i("#modal");i("#sisa-server");i("#profit");e("#formSubmit").length&&e("#formSubmit").on("submit",function(){if(e("#modal").length){let a=e("#modal").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#modal").val(l)}if(e("#dp-server").length){let a=e("#dp-server").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#dp-server").val(l)}if(e("#harga-jual").length){let a=e("#harga-jual").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#harga-jual").val(l)}if(e("#biaya").length){let a=e("#biaya").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#biaya").val(l)}if(e("#sisa-server").length){let a=e("#sisa-server").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#sisa-server").val(l)}if(e("#profit").length){let a=e("#profit").val(),l=parseInt(a.replace(/[^0-9]/g,""))||0;e("#profit").val(l)}});e("#formSubmit").length&&e("#formSubmit").on("submit",function(){["#modal","#harga-jual","#biaya","#profit"].forEach(a=>{if(e(a).length){let l=e(a).val(),t=parseInt(l.replace(/[^0-9]/g,""))||0;e(a).val(t)}})});function u(){let a=e("#modal").val(),l=e("#dp-server").val(),t=e("#biaya").val(),o=parseInt(a!==void 0?a.replace(/[^0-9]/g,""):"0")||0,d=parseInt(l!==void 0?l.replace(/[^0-9]/g,""):"0")||0,p=(parseInt(t!==void 0?t.replace(/[^0-9]/g,""):"0")||0)-o,v=o-d;e("#profit").val(s(p)),e("#sisa-server").val(s(v)),f(v)}const m='<option value="selesai">Selesai</option>';let r=e("#status").val(),n;function f(a){const l=e("#status"),t=l.find("option[value='selesai']");a>0?(t.length&&t.remove(),l.val()==="selesai"&&l.val(r||"proses"),e("#status-message").removeClass("d-none"),e("#server").addClass("is-invalid"),e("#sisa-server").addClass("is-invalid"),clearTimeout(n),n=setTimeout(()=>{e("#status-message").addClass("d-none"),e("#server").removeClass("is-invalid"),e("#sisa-server").removeClass("is-invalid")},15e3)):(l.find("option[value='selesai']").length||l.append(m),e("#status-message").addClass("d-none"),e("#server").removeClass("is-invalid"),e("#sisa-server").removeClass("is-invalid"),clearTimeout(n)),r=l.val()}e("#status").on("change",function(){const a=s(e("#sisa-server").val());e(this).val()==="selesai"&&a>0?e(this).val(r):r=e(this).val()});e("#modal, #harga-jual, #biaya, #dp-server, #sisa-server").on("input",u);e(document).ready(function(){u()});
